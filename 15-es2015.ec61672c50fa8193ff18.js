(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{KtfP:function(t,e,r){"use strict";r.r(e),r.d(e,"OrderManagerModule",function(){return ot});var i=r("ofXK"),n=r("tyNb"),o=r("M9IT"),a=r("+0xr"),s=r("AytR"),c=r("nhqp"),d=r("fXoL"),b=r("tk/3"),l=r("R5+c");let h=(()=>{class t{constructor(t,e){this.http=t,this._handelErrorResponseService=e,this.APIEndpoint=s.a.baseUrl}getOrderListAPI(t,e){return this.http.get(this.APIEndpoint+"order-list/"+e+"?page="+t)}searchOrdersAPI(t){return this.http.post(this.APIEndpoint+"orders/search",t)}productDropDownAPI(){return this.http.get(this.APIEndpoint+"product-dropdown")}deleteOrderedProductsAPI(t){return this.http.post(this.APIEndpoint+"delete-ordered-products/"+t,t)}archiveOrder(t){return this.http.post(this.APIEndpoint+"orders/archive",{order_no:t})}updateOrderStatus(t){return this.http.post(this.APIEndpoint+"update-ordered-item-status",t)}updateOrder(t){return this.http.post(this.APIEndpoint+"update-ordered-item-quantity",t)}deleteOrderItem(t){return this.http.post(this.APIEndpoint+"delete-ordered-item",t)}}return t.\u0275fac=function(e){return new(e||t)(d.cc(b.b),d.cc(l.a))},t.\u0275prov=d.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=r("0IaG"),u=r("EQBp"),g=r("kmnG"),m=r("qFsG"),f=r("bTqV"),_=r("Xa2L"),C=r("d2a5"),v=r("KpFd"),O=r("yDRh");function P(t,e){1&t&&(d.Vb(0,"div",41),d.Qb(1,"mat-spinner",42),d.Ub())}function U(t,e){1&t&&d.Qb(0,"th",43)}function V(t,e){if(1&t){const t=d.Wb();d.Vb(0,"td",44),d.gc("click",function(t){return t.stopPropagation()}),d.Vb(1,"label",12),d.Vb(2,"input",45),d.gc("click",function(e){return d.Ec(t),d.kc().getCheckedItemId(e)}),d.Ub(),d.jc(),d.Vb(3,"svg",14),d.Qb(4,"path",15),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Cb(2),d.sc("value",t.id)}}function x(t,e){1&t&&(d.Vb(0,"th",46),d.Nc(1," Patient Name "),d.Ub())}function w(t,e){if(1&t&&(d.Vb(0,"td",47),d.Nc(1),d.lc(2,"textLimit"),d.Ub()),2&t){const t=e.$implicit;d.Cb(1),d.Pc(" ",d.oc(2,1,t.patient_name,0,15),"")}}function N(t,e){1&t&&(d.Vb(0,"th",46),d.Nc(1," ^ Order Date "),d.Ub())}function k(t,e){if(1&t&&(d.Vb(0,"td",48),d.Nc(1),d.lc(2,"dateFormat"),d.Ub()),2&t){const t=e.$implicit;d.Cb(1),d.Pc(" ",d.mc(2,1,t.created_at)," ")}}function L(t,e){1&t&&(d.Vb(0,"th",46),d.Nc(1," Order Status "),d.Ub())}function I(t,e){if(1&t&&(d.Vb(0,"td",49),d.Nc(1),d.Ub()),2&t){const t=e.$implicit;d.Cb(1),d.Pc(" ",t.order_status," ")}}function M(t,e){1&t&&(d.Vb(0,"th",46),d.Nc(1," Tracking # "),d.Ub())}function y(t,e){if(1&t&&(d.Vb(0,"td",47),d.Nc(1),d.Ub()),2&t){const t=e.$implicit;d.Cb(1),d.Pc("",t.order_number," ")}}function S(t,e){1&t&&(d.Vb(0,"th",46),d.Nc(1," Prior Auth "),d.Ub())}function D(t,e){if(1&t&&(d.Vb(0,"td",50),d.Nc(1),d.Qb(2,"div",51),d.Ub()),2&t){const t=e.$implicit;d.Cb(1),d.Pc(" ",t.last_online,"")}}function A(t,e){1&t&&(d.Vb(0,"th",52),d.Nc(1," ^ Contact Nurse "),d.Ub())}function F(t,e){if(1&t&&(d.Vb(0,"td",53),d.Nc(1),d.Ub()),2&t){const t=e.$implicit;d.Cb(1),d.Pc(" ",t.nurse_name," ")}}function Q(t,e){1&t&&d.Qb(0,"tr",54)}const R=function(t){return["product-view/",t]};function E(t,e){1&t&&d.Qb(0,"tr",55),2&t&&d.sc("routerLink",d.wc(1,R,e.$implicit.id))}function T(t,e){if(1&t){const t=d.Wb();d.Vb(0,"app-paginator-component",56),d.gc("pageNo",function(e){return d.Ec(t),d.kc().displayPageNo(e)}),d.Ub()}if(2&t){const t=d.kc();d.sc("lPage",t.lastPage)("pageNumber",t.pageNumber)}}function j(t,e){1&t&&(d.Vb(0,"div",57),d.Qb(1,"img",58),d.Ub())}let $=(()=>{class t{constructor(t,e,r){this._orderService=t,this.dialog=e,this._nav=r,this.displayedColumns=["x","patientname","orderdate","orderstatus","tracking","priorauth","contactnurse"],this.dataSource=new a.k,this.pageCount=1,this.lastPage=0,this.dataNotFound=!1,this.scrollFlag=!1,this.pagination_flag=!0,this.id_arr=[],this.btn_flag=!0,this.msgIds="",this.isLoading=!0,this.pageNumber=1,this.productList=[],this.fetchOrderList=(t,e)=>{this.subscription=this._orderService.getOrderListAPI(t,e).subscribe(t=>{t.status&&(this.dataSource=new a.k(t.order.data),this.lastPage=t.order.last_page,this.pageNumber=t.order.current_page,0===t.order.total&&(this.dataNotFound=!0),this.pagination_flag=!0,this.isLoading=!1)},t=>{throw t})},this.messageNurses=()=>{this.msgIds="",this.makeString(),this._nav.navigateTo("messages/message-nurses/"+this.msgIds)}}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.fetchOrderList(this.pageCount,s.a.MAX_ROW_LENGTH)}openDialog(){this.dialog.open(c.a,{data:{msg:"Are you sure you want to deactivate?"}}).afterClosed().subscribe(t=>{})}displayPageNo(t){this.fetchOrderList(t,s.a.MAX_ROW_LENGTH)}getCheckedItemId(t){t.target.checked?this.id_arr.push(t.target.value):this.id_arr.splice(this.id_arr.indexOf(t.target.value),1),this.btn_flag=!(this.id_arr.length>0)}makeString(){for(let t=0;t<this.id_arr.length;t++)this.msgIds=this.msgIds+this.id_arr[t]+",";this.msgIds=this.msgIds.substring(0,this.msgIds.length-1)}searchOrders(t){let e={string:t.target.value,fields:"patient_name"},r=t.target.value;r&&r.length?(this.pagination_flag=!1,this.subscription=this._orderService.searchOrdersAPI(e).subscribe(t=>{this.dataSource=new a.k(t.orders),this.scrollFlag=t.nurses.length>s.a.MAX_ROW_LENGTH})):(this.scrollFlag=!1,this.fetchOrderList(this.pageCount,s.a.MAX_ROW_LENGTH))}ngOnDestroy(){this.subscription.unsubscribe()}archive(){const t=this.id_arr.join(",");this._orderService.archiveOrder(t).subscribe(t=>{1==t.status&&this.fetchOrderList(this.pageCount,s.a.MAX_ROW_LENGTH)})}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(h),d.Pb(p.b),d.Pb(u.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-order-manager"]],viewQuery:function(t,e){if(1&t&&d.Rc(o.a,1),2&t){let t;d.zc(t=d.hc())&&(e.paginator=t.first)}},decls:49,vars:7,consts:[[1,"col-lg-12","right-panel-height"],[1,"white-wrapper"],["style","display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      top: 40%;\n      left:45%;",4,"ngIf"],[1,"box-heading"],[1,"w-100","mb-3"],[1,"row"],[1,"col-lg-8","plane-ling"],[1,"form-inline","has-search"],["appearance","standard",1,"example-full-width"],[1,"fa","fa-search","form-control-feedback"],["matInput","","placeholder","Search","autocomplete","off",1,"form-control",3,"keyup"],[1,"auth-wrapper"],[1,"checkbox","path","float-left"],["type","checkbox"],["viewBox","0 0 21 21"],["d","M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186"],[1,"box-heading-profile-name","float-left","auth-items"],[1,"col-lg-4","plane-ling"],["mat-stroked-button","","type","button",1,"regular-btn","ml-3","float-right","arc-btn",3,"click"],[1,"mat-elevation-z8","no-shadow",3,"ngClass"],["mat-table","",1,"user-table",3,"dataSource"],["matColumnDef","x"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","width","8%",3,"click",4,"matCellDef"],["matColumnDef","patientname"],["class","text-left","mat-header-cell","",4,"matHeaderCellDef"],["class","text-left","mat-cell","","width","15%",4,"matCellDef"],["matColumnDef","orderdate"],["class","text-left","mat-cell","","width","10%",4,"matCellDef"],["matColumnDef","orderstatus"],["class","text-left","mat-cell","","width","25%",4,"matCellDef"],["matColumnDef","tracking"],["matColumnDef","priorauth"],["class","text-left","mat-cell","","width","8%",4,"matCellDef"],["matColumnDef","contactnurse"],["class","text-right","mat-header-cell","",4,"matHeaderCellDef"],["class","text-right","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"routerLink",4,"matRowDef","matRowDefColumns"],["class","page-number",3,"lPage","pageNumber","pageNo",4,"ngIf"],["class","d-block text-center",4,"ngIf"],[2,"display","flex","justify-content","center","align-items","center","position","absolute","top","40%","left","45%"],["color","primary"],["mat-header-cell",""],["mat-cell","","width","8%",3,"click"],["type","checkbox",3,"value","click"],["mat-header-cell","",1,"text-left"],["mat-cell","","width","15%",1,"text-left"],["mat-cell","","width","10%",1,"text-left"],["mat-cell","","width","25%",1,"text-left"],["mat-cell","","width","8%",1,"text-left"],[1,"auth-dot"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],["mat-header-row",""],["mat-row","",3,"routerLink"],[1,"page-number",3,"lPage","pageNumber","pageNo"],[1,"d-block","text-center"],["src","../../../assets/img/nodata.png"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Lc(2,P,2,0,"div",2),d.Vb(3,"h3",3),d.Nc(4,"Order Manager"),d.Ub(),d.Vb(5,"div",4),d.Vb(6,"div",5),d.Vb(7,"div",6),d.Vb(8,"div",7),d.Vb(9,"mat-form-field",8),d.Qb(10,"span",9),d.Vb(11,"input",10),d.gc("keyup",function(t){return e.searchOrders(t)}),d.Ub(),d.Ub(),d.Vb(12,"div",11),d.Vb(13,"label",12),d.Qb(14,"input",13),d.jc(),d.Vb(15,"svg",14),d.Qb(16,"path",15),d.Ub(),d.Ub(),d.ic(),d.Vb(17,"div",16),d.Nc(18,"Prior Auth Items Only"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(19,"div",17),d.Vb(20,"button",18),d.gc("click",function(){return e.archive()}),d.Nc(21,"Archive"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(22,"div",19),d.Vb(23,"table",20),d.Tb(24,21),d.Lc(25,U,1,0,"th",22),d.Lc(26,V,5,1,"td",23),d.Sb(),d.Tb(27,24),d.Lc(28,x,2,0,"th",25),d.Lc(29,w,3,5,"td",26),d.Sb(),d.Tb(30,27),d.Lc(31,N,2,0,"th",25),d.Lc(32,k,3,3,"td",28),d.Sb(),d.Tb(33,29),d.Lc(34,L,2,0,"th",25),d.Lc(35,I,2,1,"td",30),d.Sb(),d.Tb(36,31),d.Lc(37,M,2,0,"th",25),d.Lc(38,y,2,1,"td",26),d.Sb(),d.Tb(39,32),d.Lc(40,S,2,0,"th",25),d.Lc(41,D,3,1,"td",33),d.Sb(),d.Tb(42,34),d.Lc(43,A,2,0,"th",35),d.Lc(44,F,2,1,"td",36),d.Sb(),d.Lc(45,Q,1,0,"tr",37),d.Lc(46,E,1,3,"tr",38),d.Ub(),d.Lc(47,T,1,2,"app-paginator-component",39),d.Ub(),d.Lc(48,j,2,0,"div",40),d.Ub(),d.Ub()),2&t&&(d.Cb(2),d.sc("ngIf",e.isLoading),d.Cb(20),d.sc("ngClass",e.scrollFlag?"ex1":""),d.Cb(1),d.sc("dataSource",e.dataSource),d.Cb(22),d.sc("matHeaderRowDef",e.displayedColumns),d.Cb(1),d.sc("matRowDefColumns",e.displayedColumns),d.Cb(1),d.sc("ngIf",e.pagination_flag),d.Cb(1),d.sc("ngIf",e.dataNotFound))},directives:[i.m,g.b,m.b,f.a,i.k,a.j,a.c,a.e,a.b,a.g,a.i,_.b,a.d,a.a,a.f,a.h,n.g,C.a],pipes:[v.a,O.a],styles:["div.ex1[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:100%}div.ex1[_ngcontent-%COMP%]{max-height:490px;min-height:0;overflow-y:scroll}.mat-form-field-wrapper[_ngcontent-%COMP%]{padding-bottom:0!important}.auth-wrapper[_ngcontent-%COMP%]{margin-left:23px;margin-top:6px}.arc-btn[_ngcontent-%COMP%]{padding:0 30px!important}.auth-dot[_ngcontent-%COMP%]{width:7px;height:7px;border-radius:100%;background-color:#508ff4;margin:0 auto}"]}),t})();var G=r("3Pt+"),q=r("z3Rz"),H=r("d3UM"),W=r("FKr1");function X(t,e){1&t&&(d.Vb(0,"div",14),d.Qb(1,"mat-spinner",15),d.Ub())}function z(t,e){if(1&t&&(d.Vb(0,"mat-option",29),d.Nc(1),d.Ub()),2&t){const t=e.$implicit;d.sc("value",t.product_id),d.Cb(1),d.Pc(" ",t.product_name,"")}}function B(t,e){if(1&t){const t=d.Wb();d.Vb(0,"tbody",16),d.Vb(1,"tr",17),d.Vb(2,"td"),d.Vb(3,"div",18),d.Vb(4,"label",19),d.Vb(5,"input",20),d.gc("click",function(){d.Ec(t);const r=e.$implicit;return d.kc().getCheckedItemId(r.value.id)}),d.Ub(),d.jc(),d.Vb(6,"svg",21),d.Qb(7,"path",22),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.ic(),d.Vb(8,"td"),d.Vb(9,"mat-select",23),d.Vb(10,"mat-option",24),d.Nc(11,"Choose a product"),d.Ub(),d.Lc(12,z,2,2,"mat-option",25),d.Ub(),d.Ub(),d.Vb(13,"td"),d.Qb(14,"input",26),d.Ub(),d.Vb(15,"td"),d.Qb(16,"input",27),d.Ub(),d.Vb(17,"td"),d.Qb(18,"div",28),d.Qb(19,"input",27),d.Ub(),d.Vb(20,"td"),d.Qb(21,"input",27),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.index,r=d.kc();d.Cb(1),d.sc("formGroupName",t),d.Cb(11),d.sc("ngForOf",r.productDetails)}}let J=(()=>{class t{constructor(t,e,r,i,n){this.activatedRoute=t,this.formBuilder=e,this._orderService=r,this.router=i,this._toastr=n,this.productDetails=[],this.productList=[],this.id_arr=[],this.delete_btn_flag=!0,this.msgIds="",this.isLoading=!0,this.getProductList=()=>{this._orderService.productDropDownAPI().subscribe(t=>{this.productList=t.productdropdown}),this.isLoading=!1}}ngOnInit(){this.orderForm=new G.k({items:new G.e([])}),this.getProductList(),this.productDetails=this.activatedRoute.snapshot.data.order.order.ordered_products,console.log("->",this.productDetails),this.productDetails.map(t=>{console.log(t),this.addItem(t.id,t.product_id,t.product_name,t.product_variant,t.quantity)}),this.activatedRoute.paramMap.subscribe(t=>{this.order_id=t.get("id")})}createItem(t,e,r,i,n){return this.formBuilder.group({id:[t],product_id:[e],product_name:[e],product_variant:[i],quantity:n})}addItem(t,e,r,i,n){this.items=this.orderForm.get("items"),this.items.push(this.createItem(t,e,r,i,n))}getControls(){return this.orderForm.get("items").controls}getCheckedItemId(t){this.id_arr.includes(t)?(console.log("exists"),this.id_arr.splice(this.id_arr.indexOf(t),1)):this.id_arr.push(t),this.delete_btn_flag=!(this.id_arr.length>0)}makeString(){for(let t=0;t<this.id_arr.length;t++)this.msgIds=this.msgIds+this.id_arr[t]+",";this.msgIds=this.msgIds.substring(0,this.msgIds.length-1)}deleteProducts(){this.msgIds="",this.makeString(),this.subscription=this._orderService.deleteOrderedProductsAPI(this.msgIds).subscribe(t=>{let e=Object.values(t);this.isLoading=!0,this._toastr.showAlert(e[2],"success"),this.getProductList()},t=>{throw t})}Save(){console.log(this.items.value),this._orderService.updateOrder({items:this.items.value,order_id:this.order_id}).subscribe(t=>{1==t.status&&(this._toastr.showAlert("Order updated successfully","success"),this.router.navigate(["/order-manager/product-view",this.order_id]))})}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(n.a),d.Pb(G.g),d.Pb(h),d.Pb(n.f),d.Pb(q.a))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-product-edit"]],decls:29,vars:4,consts:[[1,"col-lg-12","right-panel-height"],[1,"white-wrapper"],["style","display: flex;\n        justify-content: center;\n        align-items: center;\n        position: absolute;\n        top: 40%;\n        left:45%;",4,"ngIf"],[1,"row"],[1,"col-lg-7","header-checkbox"],[1,"box-heading","float-left","mr-4"],[1,"plane-ling","col-lg-5"],["mat-stroked-button","","type","button",1,"regular-btn","ml-3","float-right","arc-btn",3,"click"],["mat-stroked-button","","type","button",1,"regular-btn","ml-3","float-right","arc-btn",3,"disabled","click"],[1,"clearfix"],[3,"formGroup"],[1,"table","table-borderless"],[1,"text-center"],["formArrayName","items",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","align-items","center","position","absolute","top","40%","left","45%"],["color","primary"],["formArrayName","items"],[3,"formGroupName"],[1,"auth-wrapper"],[1,"checkbox","path","float-left"],["type","checkbox",3,"click"],["viewBox","0 0 21 21"],["d","M5,10.75 L8.5,14.25 L19.4,2.3 C18.8333333,1.43333333 18.0333333,1 17,1 L4,1 C2.35,1 1,2.35 1,4 L1,17 C1,18.65 2.35,20 4,20 L17,20 C18.65,20 20,18.65 20,17 L20,7.99769186"],["formControlName","product_name","readonly","",1,"custom-fild"],["value",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","quantity","placeholder","Order Quantity",1,"custom-fild"],["formControlName","product_variant","placeholder","Item name","readonly","",1,"custom-fild"],[1,"small-width"],[3,"value"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Lc(2,X,2,0,"div",2),d.Vb(3,"div",3),d.Vb(4,"div",4),d.Vb(5,"h3",5),d.Nc(6,"Edit Order"),d.Ub(),d.Ub(),d.Vb(7,"div",6),d.Vb(8,"button",7),d.gc("click",function(){return e.Save()}),d.Nc(9,"Confirm Changes"),d.Ub(),d.Vb(10,"button",8),d.gc("click",function(){return e.deleteProducts()}),d.Nc(11,"Delete Item"),d.Ub(),d.Ub(),d.Ub(),d.Qb(12,"div",9),d.Vb(13,"div",10),d.Vb(14,"div"),d.Vb(15,"table",11),d.Vb(16,"tr"),d.Qb(17,"th"),d.Vb(18,"th"),d.Nc(19,"Item Name"),d.Ub(),d.Vb(20,"th",12),d.Nc(21,"Quantity"),d.Ub(),d.Vb(22,"th",12),d.Nc(23,"Specification"),d.Ub(),d.Vb(24,"th",12),d.Nc(25,"Specification2"),d.Ub(),d.Vb(26,"th",12),d.Nc(27,"Other"),d.Ub(),d.Ub(),d.Lc(28,B,22,2,"tbody",13),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Cb(2),d.sc("ngIf",e.isLoading),d.Cb(8),d.sc("disabled",e.delete_btn_flag),d.Cb(3),d.sc("formGroup",e.orderForm),d.Cb(15),d.sc("ngForOf",e.getControls()))},directives:[i.m,f.a,G.t,G.l,i.l,_.b,G.f,G.m,H.a,G.s,G.j,W.m,G.d],styles:[".auth-items[_ngcontent-%COMP%], .mr-4[_ngcontent-%COMP%]{margin-right:20px}.checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .header-checkbox[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px!important;height:20px!important;top:5px}.header-checkbox[_ngcontent-%COMP%]   .auth-items[_ngcontent-%COMP%]{margin-top:3px!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none!important;font-family:Lato,sans-serif!important;font-size:11px!important;color:rgba(0,0,0,.8705882352941177)!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:2px solid #eaf2ff!important;border-top:2px solid #eaf2ff!important;color:rgba(0,0,0,.5411764705882353);font-size:12px;font-weight:500}.plane-ling[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:110px}.header-checkbox[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none!important}.table-borderless[_ngcontent-%COMP%]   .custom-fild[_ngcontent-%COMP%]{height:35px;padding:5px;margin-bottom:0!important;color:#666}.table-borderless[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{top:5px}.table-borderless[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{top:0!important;width:25px!important;height:25px!important}.small-width[_ngcontent-%COMP%]{width:30px}.table-borderless[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] + tbody[_ngcontent-%COMP%]{border:none}"]}),t})();var K=r("NFeN");function Y(t,e){if(1&t){const t=d.Wb();d.Vb(0,"tr"),d.Vb(1,"td"),d.Nc(2),d.Ub(),d.Vb(3,"td",9),d.Nc(4),d.Ub(),d.Vb(5,"td",9),d.Nc(6),d.Ub(),d.Vb(7,"td",9),d.Nc(8),d.Ub(),d.Vb(9,"td",9),d.Nc(10),d.Ub(),d.Vb(11,"td",9),d.Vb(12,"mat-form-field",11),d.Vb(13,"select",12),d.gc("change",function(r){d.Ec(t);const i=e.$implicit;return d.kc().updateOrderStatus(r,i.id)}),d.Vb(14,"option",13),d.Nc(15,"Update Order Status"),d.Ub(),d.Vb(16,"option",14),d.Nc(17,"Under Review"),d.Ub(),d.Vb(18,"option",15),d.Nc(19,"Shipped"),d.Ub(),d.Vb(20,"option",16),d.Nc(21,"Delivered"),d.Ub(),d.Ub(),d.Ub(),d.Ub(),d.Vb(22,"td",9),d.Vb(23,"mat-icon",17),d.gc("click",function(){d.Ec(t);const r=e.$implicit;return d.kc().openDeleteDialog(r.id)}),d.Nc(24,"delete"),d.Ub(),d.Ub(),d.Ub()}if(2&t){const t=e.$implicit;d.Cb(2),d.Oc(t.product_name),d.Cb(2),d.Oc(t.quantity),d.Cb(2),d.Oc(t.product_variant),d.Cb(2),d.Oc(t.product_variant),d.Cb(2),d.Oc(t.product_variant),d.Cb(6),d.sc("selected","2"==t.order_status),d.Cb(2),d.sc("selected","3"==t.order_status),d.Cb(2),d.sc("selected","4"==t.order_status)}}const Z=function(t){return["../../product-edit/",t]};let tt=(()=>{class t{constructor(t,e,r,i){this.activatedRoute=t,this.orderService=e,this._toasterService=r,this.dialog=i,this.orderDetails=[],this.u_id=0}ngOnInit(){let t=this.activatedRoute.snapshot.data.order;t.status&&(this.u_id=t.order.id,this.orderDetails=t.order.ordered_products),this.activatedRoute.queryParams.subscribe(t=>{console.log(t.order)}),this.activatedRoute.paramMap.subscribe(t=>{this.order_id=t.get("id")})}updateOrderStatus(t,e){this.orderService.updateOrderStatus({order_id:this.order_id,order_status:t.target.value,item_id:e}).subscribe(t=>{1==t.status&&this._toasterService.showAlert(t.message,"success")})}openDeleteDialog(t){this.dialog.open(c.a,{data:{msg:"Are you sure want to delete this item ?"}}).afterClosed().subscribe(e=>{"1"==e&&this.orderService.deleteOrderItem({order_id:this.order_id,items:t}).subscribe(t=>{1==t.status&&(this._toasterService.showAlert("Deleted successfully","success"),this.ngOnInit())})})}}return t.\u0275fac=function(e){return new(e||t)(d.Pb(n.a),d.Pb(h),d.Pb(q.a),d.Pb(p.b))},t.\u0275cmp=d.Jb({type:t,selectors:[["app-product-view"]],decls:28,vars:4,consts:[[1,"col-lg-12","right-panel-height"],[1,"white-wrapper"],[1,"row"],[1,"col-lg-7","header-checkbox"],[1,"box-heading","float-left","mr-4"],[1,"plane-ling","col-lg-5"],["mat-stroked-button","","type","button",1,"regular-btn","ml-3","float-right","arc-btn",3,"routerLink"],[1,"clearfix"],[1,"table"],[1,"text-center"],[4,"ngFor","ngForOf"],["appearance","standard"],["matNativeControl","","required","",3,"change"],["value",""],["value","2",3,"selected"],["value","3",3,"selected"],["value","4",3,"selected"],[1,"delete",2,"color","rgb(177 2 2)",3,"click"]],template:function(t,e){1&t&&(d.Vb(0,"div",0),d.Vb(1,"div",1),d.Vb(2,"div",2),d.Vb(3,"div",3),d.Vb(4,"h3",4),d.Nc(5,"Order View"),d.Ub(),d.Ub(),d.Vb(6,"div",5),d.Vb(7,"button",6),d.Nc(8,"Edit"),d.Ub(),d.Ub(),d.Ub(),d.Qb(9,"div",7),d.Vb(10,"div"),d.Vb(11,"table",8),d.Vb(12,"tr"),d.Vb(13,"th"),d.Nc(14,"Item Name"),d.Ub(),d.Vb(15,"th",9),d.Nc(16,"Quantity"),d.Ub(),d.Vb(17,"th",9),d.Nc(18,"Specification"),d.Ub(),d.Vb(19,"th",9),d.Nc(20,"Specification2"),d.Ub(),d.Vb(21,"th",9),d.Nc(22,"Other"),d.Ub(),d.Vb(23,"th",9),d.Nc(24,"Status"),d.Ub(),d.Vb(25,"th",9),d.Nc(26,"Action"),d.Ub(),d.Ub(),d.Lc(27,Y,25,8,"tr",10),d.Ub(),d.Ub(),d.Ub(),d.Ub()),2&t&&(d.Cb(7),d.sc("routerLink",d.wc(2,Z,e.u_id)),d.Cb(20),d.sc("ngForOf",e.orderDetails))},directives:[f.a,n.g,i.l,g.b,m.b,G.w,G.C,K.a],styles:[".auth-items[_ngcontent-%COMP%], .mr-4[_ngcontent-%COMP%]{margin-right:20px}.checkbox[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .header-checkbox[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px!important;height:20px!important;top:5px}.header-checkbox[_ngcontent-%COMP%]   .auth-items[_ngcontent-%COMP%]{margin-top:3px!important}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-top:none!important;font-family:Lato,sans-serif!important;font-size:11px!important;color:rgba(0,0,0,.8705882352941177)!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:2px solid #eaf2ff!important;border-top:2px solid #eaf2ff!important;color:rgba(0,0,0,.5411764705882353);font-size:12px;font-weight:500}.plane-ling[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:110px}.header-checkbox[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{border-bottom:none!important}"]}),t})(),et=(()=>{class t{constructor(t){this.http=t}resolve(t){return this.id=t.paramMap.get("id"),this.http.get(s.a.baseUrl+"order-details/"+this.id,this.id)}}return t.\u0275fac=function(e){return new(e||t)(d.cc(b.b))},t.\u0275prov=d.Lb({token:t,factory:t.\u0275fac}),t})();const rt=[{path:"",component:$},{path:"product-view/:id",component:tt,resolve:{order:et}},{path:"product-edit/:id",component:J,resolve:{order:et}}];let it=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({imports:[[n.j.forChild(rt)],n.j]}),t})();var nt=r("FpXt");let ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.Nb({type:t}),t.\u0275inj=d.Mb({providers:[et],imports:[[i.c,it,nt.a]]}),t})()}}]);