(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{g7DB:function(e,r,t){"use strict";t.r(r),t.d(r,"LoginModule",function(){return p});var s=t("ofXK"),o=t("tyNb");class i{constructor(e,r){this.username=e,this.password=r,this.grant_type="password",this.client_id=2,this.client_secret="iS2YOrzJqwBubx9Am49sKzvLBPr87Nd1XM10Z02O",this.provider="users"}}var n=t("fXoL"),a=t("NTfF"),l=t("EQBp"),c=t("ODPe"),u=t("z3Rz"),d=t("3Pt+");const b=[{path:"",component:(()=>{class e{constructor(e,r,t,s,o,i){this.router=e,this._globalLoginService=r,this._navigateToService=t,this._loaderService=s,this._toastr=o,this._loginService=i,this.username=null,this.password=null}ngOnInit(){this._globalLoginService.isLoggedIn()?this.resourceDetails():setTimeout(()=>{this._loaderService.hideLoader()},50)}onLogin(){if(""===this.username.trim()||null==this.username||""===this.password.trim()||null==this.password)return void this._toastr.showAlert("Credential fields blank","error");this._loaderService.showLoader();const e=new i(this.username,this.password);console.log(e),this._loginService.login(e).subscribe(e=>{console.log(e),this._globalLoginService.setAccessToken(e),this._globalLoginService.addResourceDetail(e.access_token),this.resourceDetails()},e=>{this._toastr.showAlert(e.error.error,"error")})}resourceDetails(){this._loginService.userDetails().subscribe(e=>{e.status&&(this._loaderService.loggedIn(),this._navigateToService.navigateTo("dashboard"))},e=>{throw e})}}return e.\u0275fac=function(r){return new(r||e)(n.Pb(o.f),n.Pb(a.a),n.Pb(l.a),n.Pb(c.a),n.Pb(u.a),n.Pb("_loginService"))},e.\u0275cmp=n.Jb({type:e,selectors:[["app-user-login"]],decls:16,vars:2,consts:[[1,"row"],[1,"col-lg-6"],[1,"row","login-section"],[1,"white-wrapper","text-center","col-lg-6","m-auto","main-log"],[1,""],["type","text","placeholder","User Name",1,"form-control","input-fild",3,"ngModel","ngModelChange"],["type","password","placeholder","Password",1,"form-control","input-fild",3,"ngModel","ngModelChange"],["type","submit","value","Login",1,"login-btn","mt-5","mb-3",3,"click"],[1,"clearfix"],["href","",1,"float-left","ml-3",2,"cursor","pointer"],["href","",1,"float-right","mr-3"]],template:function(e,r){1&e&&(n.Vb(0,"div",0),n.Vb(1,"div",1),n.Vb(2,"div",2),n.Vb(3,"div",3),n.Vb(4,"div",4),n.Vb(5,"h2"),n.Nc(6,"CARE@HOME"),n.Ub(),n.Vb(7,"input",5),n.gc("ngModelChange",function(e){return r.username=e}),n.Ub(),n.Vb(8,"input",6),n.gc("ngModelChange",function(e){return r.password=e}),n.Ub(),n.Vb(9,"input",7),n.gc("click",function(){return r.onLogin()}),n.Ub(),n.Qb(10,"div",8),n.Vb(11,"a",9),n.Nc(12,"Forgot Username?"),n.Ub(),n.Vb(13,"a",10),n.Nc(14,"About Us"),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Qb(15,"div",1),n.Ub()),2&e&&(n.Cb(7),n.sc("ngModel",r.username),n.Cb(1),n.sc("ngModel",r.password))},directives:[d.d,d.s,d.v],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({imports:[[o.j.forChild(b)],o.j]}),e})();var h=t("u0uF");let p=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=n.Nb({type:e}),e.\u0275inj=n.Mb({providers:[{provide:"_loginService",useClass:h.a}],imports:[[s.c,g,d.n]]}),e})()}}]);